var ee=Object.defineProperty;var Z=Object.getOwnPropertySymbols;var te=Object.prototype.hasOwnProperty,le=Object.prototype.propertyIsEnumerable;var F=(s,e,t)=>e in s?ee(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,H=(s,e)=>{for(var t in e||(e={}))te.call(e,t)&&F(s,t,e[t]);if(Z)for(var t of Z(e))le.call(e,t)&&F(s,t,e[t]);return s};import{S as D,i as I,s as L,e as p,t as C,b as i,c as h,d as u,l as G,k as O,n as P,f as _,h as ne,I as v,m as q,a as w,o as E,p as $,q as z,u as S,z as ae,A as ie,J as se,K as Q,C as oe}from"../vendor.b1a1e755.js";import{f as T,a as re,b as ce}from"../payment.b0fc3cb8.js";import{c as W}from"../config.e27a43c6.js";function ue(s){let e,t,n,l,o;return{c(){e=p("button"),t=C(s[1]),i(e,"class",n=""+((s[0]?"button-active":"button-inactive")+" w-24 py-2 rounded-full text-white text-sm svelte-1ozed48"))},m(a,r){h(a,e,r),u(e,t),l||(o=G(e,"click",s[3]),l=!0)},p(a,[r]){r&2&&O(t,a[1]),r&1&&n!==(n=""+((a[0]?"button-active":"button-inactive")+" w-24 py-2 rounded-full text-white text-sm svelte-1ozed48"))&&i(e,"class",n)},i:P,o:P,d(a){a&&_(e),l=!1,o()}}}function fe(s,e,t){let{active:n}=e,{label:l}=e;const o=ne(),a=()=>{o("")};return s.$$set=r=>{"active"in r&&t(0,n=r.active),"label"in r&&t(1,l=r.label)},[n,l,o,a]}class de extends D{constructor(e){super();I(this,e,fe,ue,L,{active:0,label:1})}}function me(s){let e;return{c(){e=v("path"),i(e,"stroke-linecap","round"),i(e,"stroke-linejoin","round"),i(e,"stroke-width","2"),i(e,"d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z")},m(t,n){h(t,e,n)},d(t){t&&_(e)}}}function pe(s){let e,t;return{c(){e=v("path"),t=v("path"),i(e,"stroke-linecap","round"),i(e,"stroke-linejoin","round"),i(e,"stroke-width","2"),i(e,"d","M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"),i(t,"stroke-linecap","round"),i(t,"stroke-linejoin","round"),i(t,"stroke-width","2"),i(t,"d","M15 12a3 3 0 11-6 0 3 3 0 016 0z")},m(n,l){h(n,e,l),h(n,t,l)},d(n){n&&_(e),n&&_(t)}}}function he(s){let e;return{c(){e=v("path"),i(e,"stroke-linecap","round"),i(e,"stroke-linejoin","round"),i(e,"stroke-width","2"),i(e,"d","M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z")},m(t,n){h(t,e,n)},d(t){t&&_(e)}}}function _e(s){let e,t;function n(a,r){if(a[0]==="feedback")return he;if(a[0]==="setting")return pe;if(a[0]==="help")return me}let l=n(s),o=l&&l(s);return{c(){e=v("svg"),o&&o.c(),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class",t="h-6 w-6 "+s[1]),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor")},m(a,r){h(a,e,r),o&&o.m(e,null)},p(a,[r]){l!==(l=n(a))&&(o&&o.d(1),o=l&&l(a),o&&(o.c(),o.m(e,null))),r&2&&t!==(t="h-6 w-6 "+a[1])&&i(e,"class",t)},i:P,o:P,d(a){a&&_(e),o&&o.d()}}}function ge(s,e,t){let{name:n}=e,{className:l}=e;return s.$$set=o=>{"name"in o&&t(0,n=o.name),"className"in o&&t(1,l=o.className)},[n,l]}class ve extends D{constructor(e){super();I(this,e,ge,_e,L,{name:0,className:1})}}function X(s,e,t){const n=s.slice();return n[4]=e[t],n}function Y(s){let e,t,n,l,o=s[4].text+"",a,r,c,m,j;t=new ve({props:{name:s[4].icon,className:"mr-3 ml-1"}});function b(...f){return s[2](s[4],...f)}return{c(){e=p("li"),q(t.$$.fragment),n=w(),l=p("span"),a=C(o),r=w(),i(l,"class","ext-a"),i(e,"class","flex flex-row items-center h-10 text-gray-700 hover:bg-gray-200 cursor-pointer text-sm")},m(f,M){h(f,e,M),E(t,e,null),u(e,n),u(e,l),u(l,a),u(e,r),c=!0,m||(j=G(e,"click",b),m=!0)},p(f,M){s=f},i(f){c||($(t.$$.fragment,f),c=!0)},o(f){z(t.$$.fragment,f),c=!1},d(f){f&&_(e),S(t),m=!1,j()}}}function ke(s){let e,t,n=s[0],l=[];for(let a=0;a<n.length;a+=1)l[a]=Y(X(s,n,a));const o=a=>z(l[a],1,1,()=>{l[a]=null});return{c(){e=p("ul");for(let a=0;a<l.length;a+=1)l[a].c();i(e,"class","mt-10 w-full px-5")},m(a,r){h(a,e,r);for(let c=0;c<l.length;c+=1)l[c].m(e,null);t=!0},p(a,[r]){if(r&3){n=a[0];let c;for(c=0;c<n.length;c+=1){const m=X(a,n,c);l[c]?(l[c].p(m,r),$(l[c],1)):(l[c]=Y(m),l[c].c(),$(l[c],1),l[c].m(e,null))}for(ae(),c=n.length;c<l.length;c+=1)o(c);ie()}},i(a){if(!t){for(let r=0;r<n.length;r+=1)$(l[r]);t=!0}},o(a){l=l.filter(Boolean);for(let r=0;r<l.length;r+=1)z(l[r]);t=!1},d(a){a&&_(e),se(l,a)}}}function we(s){const e=[{icon:"feedback",text:"\u95EE\u9898\u53CD\u9988",link:"https://github.com/ohnonoyesyes/zsxq_dl",id:"feedback"},{icon:"help",text:"\u4F7F\u7528\u5E2E\u52A9",link:"https://github.com/ohnonoyesyes/zsxq_dl",id:"help"},{icon:"setting",text:"\u8BBE\u7F6E\u9009\u9879",link:"https://github.com/ohnonoyesyes/zsxq_dl",id:"options"}],t=()=>{chrome.runtime.openOptionsPage?chrome.runtime.openOptionsPage():window.open(chrome.runtime.getURL("options.html"))},n=o=>{o==="options"?t():o==="help"?window.open(W.doc_url):o==="feedback"&&window.open(W.support_url)};return[e,n,(o,a)=>{a.preventDefault(),n(o.id)}]}class be extends D{constructor(e){super();I(this,e,we,ke,L,{})}}function xe(s){let e,t,n,l,o,a,r,c,m,j,b=(s[0].validated?"\u9AD8\u7EA7\u7248":"\u57FA\u7840\u7248")+"",f,M,B,J,N,V=(s[0].validated?`\u9AD8\u7EA7\u7248\u5C06\u4E8E ${T(s[0].expire_at)} \u5230\u671F`:"\u9ad8\u7ea7\u529f\u80fd\u5df2\u5f00\u542f\uff0c\u65e0\u9650\u4e0b\u8f7d\u6587\u4ef6")+"",A,K,g,R,x,k;return g=new de({props:{active:!0,label:s[0].validated?"":""}}),g.$on("",re),x=new be({}),{c(){e=p("main"),t=p("div"),n=v("svg"),l=v("circle"),o=v("path"),a=w(),r=p("h1"),r.textContent="\u661F\u7403\u4F34\u4FA3",c=w(),m=p("h1"),j=C("("),f=C(b),M=C(")"),J=w(),N=p("div"),A=C(V),K=w(),q(g.$$.fragment),R=w(),q(x.$$.fragment),i(l,"cx","128"),i(l,"cy","128"),i(l,"r","128"),i(l,"fill","#16B998"),i(o,"fill-rule","evenodd"),i(o,"clip-rule","evenodd"),i(o,"d","M138.4 56.368C140.024 56.8787 141.442 57.8942 142.45 59.2668C143.457 60.6394 144 62.2975 144 64V104H176C177.463 103.999 178.898 104.4 180.15 105.159C181.401 105.917 182.421 107.004 183.097 108.302C183.774 109.6 184.081 111.058 183.986 112.518C183.892 113.978 183.398 115.385 182.56 116.584L126.56 196.584C125.585 197.98 124.19 199.029 122.578 199.578C120.966 200.127 119.221 200.147 117.597 199.636C115.973 199.124 114.554 198.108 113.548 196.735C112.541 195.362 111.999 193.703 112 192V152H79.9997C78.5363 152.001 77.1008 151.6 75.8494 150.841C74.598 150.083 73.5786 148.996 72.9021 147.698C72.2257 146.4 71.9181 144.942 72.0129 143.482C72.1077 142.022 72.6012 140.615 73.4397 139.416L129.44 59.416C130.416 58.0223 131.811 56.9761 133.422 56.4294C135.033 55.8827 136.777 55.864 138.4 56.376V56.368Z"),i(o,"fill","white"),i(n,"width","36"),i(n,"height","36"),i(n,"viewBox","0 0 256 256"),i(n,"fill","none"),i(n,"xmlns","http://www.w3.org/2000/svg"),i(r,"class","text-2xl text-gray-700 ml-3"),i(m,"class",B=""+(Q(` text-gray-500 ${s[0].validated?"ext-title":""} text-lg self-end ml-1`)+" svelte-tf6r5n")),i(t,"class","flex flex-row w-full items-center px-5 justify-center"),i(N,"class","text-gray-600 mt-8 mb-4 text-lg"),i(e,"class","w-80 mx-auto bg-white py-6 flex flex-col items-center shadow-lg")},m(d,y){h(d,e,y),u(e,t),u(t,n),u(n,l),u(n,o),u(t,a),u(t,r),u(t,c),u(t,m),u(m,j),u(m,f),u(m,M),u(e,J),u(e,N),u(N,A),u(e,K),E(g,e,null),u(e,R),E(x,e,null),k=!0},p(d,[y]){(!k||y&1)&&b!==(b=(d[0].validated?"\u9AD8\u7EA7\u7248":"\u57FA\u7840\u7248")+"")&&O(f,b),(!k||y&1&&B!==(B=""+(Q(` text-gray-500 ${d[0].validated?"ext-title":""} text-lg self-end ml-1`)+" svelte-tf6r5n")))&&i(m,"class",B),(!k||y&1)&&V!==(V=(d[0].validated?`\u9AD8\u7EA7\u7248\u5C06\u4E8E ${T(d[0].expire_at)} \u5230\u671F`:"\u9ad8\u7ea7\u529f\u80fd\u5df2\u5f00\u542f\uff0c\u65e0\u9650\u4e0b\u8f7d\u6587\u4ef6")+"")&&O(A,V);const U={};y&1&&(U.label=d[0].validated?"":""),g.$set(U)},i(d){k||($(g.$$.fragment,d),$(x.$$.fragment,d),k=!0)},o(d){z(g.$$.fragment,d),z(x.$$.fragment,d),k=!1},d(d){d&&_(e),S(g),S(x)}}}function ye(s,e,t){let n={key:"",urlkey:"",validated:!1,expire_at:0};return oe(()=>{(async()=>{const o=await ce();t(0,n=H(H({},n),o))})()}),[n]}class Ce extends D{constructor(e){super();I(this,e,ye,xe,L,{})}}new Ce({target:document.getElementById("app")});
